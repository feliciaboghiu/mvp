{"ast":null,"code":"var _jsxFileName = \"/Users/feliciaboghiu/Desktop/FE/mvp/client/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport ItemList from './ItemList';\nimport InsertForm from './InsertForm';\nimport NewList from './NewList';\nimport { BrowserRouter as Router, Switch, Route, NavLink, Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Error404View from './Error404View';\nimport EditList from './EditList';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar'; // import Form from 'react-bootstrap/Form';\n\nimport { NavbarBrand } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import Login from \"./components/login.js\";\n\nimport SignupForm from \"./components/signUp.js\";\nimport ValidatedLoginForm from \"./components/validatedLoginForm.js\";\nconst API_URL = \"/inventarium/lists\";\nconst API_URL2 = \"/inventarium/lists/items\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lists: [],\n      newList: \"\",\n      editedListId: null,\n      list: null\n    };\n  }\n\n  componentDidMount() {\n    fetch(API_URL).then(res => res.json()).then(json => {\n      // Upon success, update lists\n      this.setState({\n        lists: json\n      });\n    }).catch(error => {\n      // upon failure, show error message\n      console.log(\"Error\");\n    });\n  }\n\n  async addNewItem(newItem, list_id) {\n    let item = {\n      text: newItem,\n      list_id: list_id\n    }; // POST\n\n    let options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(item)\n    };\n\n    try {\n      let response = await fetch(API_URL2, options);\n\n      if (response.ok) {\n        let newLists = await response.json();\n        this.setState({\n          lists: newLists\n        });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  async addNewList(newTitle) {\n    let newList = {\n      title: newTitle\n    };\n    let options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newList)\n    };\n\n    try {\n      let response = await fetch(API_URL, options);\n\n      if (response.ok) {\n        let newLists = await response.json();\n        this.setState({\n          lists: newLists\n        });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  setEditedListId(editedListId) {\n    this.setState({\n      editedListId: editedListId\n    });\n  }\n\n  async deleteItem(list_id, item_id) {\n    // DELETE item from database\n    let options = {\n      method: \"DELETE\"\n    };\n\n    try {\n      let response = await fetch(`${API_URL2}/${item_id}`, options);\n\n      if (response.ok) {\n        let newLists = await response.json(); // let newList = newLists.find((l) => l.id === list_id);\n        // newList.item = newList.item.filter((i) => i !== item_id);\n        // upon success, update the list of items\n\n        this.setState({\n          lists: newLists\n        });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  async deleteList(list_id) {\n    // DELETE list from database\n    let options = {\n      method: \"DELETE\"\n    };\n\n    try {\n      let response = await fetch(`${API_URL}/${list_id}`, options);\n\n      if (response.ok) {\n        let newLists = await response.json();\n        this.setState({\n          lists: newLists\n        });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  async handleEditList(list_id) {\n    let list = this.state.lists.find(l => l.id === list_id); // PUT\n\n    let options = {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(list)\n    };\n\n    try {\n      let response = await fetch(`${API_URL}/${list_id}`, options);\n\n      if (response.ok) {\n        let newList = await response.json(); // upon success, update tasks\n\n        this.setState({\n          list: newList\n        });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  saveList(list_id, newTitle, newItems) {\n    let newLists = [...this.state.lists];\n    let newList = newLists.find(l => l.id === list_id);\n    newList.title = newTitle;\n    newList.item = newItems;\n    this.setState({\n      lists: newLists\n    });\n    this.props.history.push('/mylists');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      bg: \"info\",\n      expand: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(NavbarBrand, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 60\n      }\n    }, \"INVENTARIUM\"))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/mylists\",\n      exact: true,\n      activeClassName: \"selected\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 38\n      }\n    }, \"My Lists\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/addlist\",\n      activeClassName: \"selected\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 38\n      }\n    }, \"Create New List\")))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/mylists\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ItemList, {\n      setEditedListId: editedListId => this.setEditedListId(editedListId),\n      lists: this.state.lists,\n      deleteItem: (list_id, item_id) => this.deleteItem(list_id, item_id),\n      deleteList: list_id => this.deleteList(list_id),\n      handleEditList: list_id => this.handleEditList(list_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/additem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InsertForm, {\n      editedListId: this.state.editedListId,\n      newItem: this.state.newItem,\n      addNewItem: (newItem, list_id) => this.addNewItem(newItem, list_id),\n      id: this.state.lists.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/addlist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NewList, {\n      addNewList: newTitle => this.addNewList(newTitle),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/editlist/:id\",\n      render: routeProps => {\n        let list = this.state.lists.find(l => l.id === routeProps.match.params.id);\n        return /*#__PURE__*/React.createElement(EditList, {\n          list: list,\n          saveList: (id, t, item) => this.saveList(id, t, item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 26\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: ValidatedLoginForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/sign-up\",\n      component: SignupForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Error404View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nclass Home extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, \"Welcome\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 38\n      }\n    }, \"SIGN IN\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/sign-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 38\n      }\n    }, \"SIGN UP\"))));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/feliciaboghiu/Desktop/FE/mvp/client/src/App.js"],"names":["React","ItemList","InsertForm","NewList","BrowserRouter","Router","Switch","Route","NavLink","Link","withRouter","Error404View","EditList","Button","Navbar","NavbarBrand","SignupForm","ValidatedLoginForm","API_URL","API_URL2","App","Component","constructor","props","state","lists","newList","editedListId","list","componentDidMount","fetch","then","res","json","setState","catch","error","console","log","addNewItem","newItem","list_id","item","text","options","method","headers","body","JSON","stringify","response","ok","newLists","status","statusText","err","message","addNewList","newTitle","title","setEditedListId","deleteItem","item_id","deleteList","handleEditList","find","l","id","saveList","newItems","history","push","render","routeProps","match","params","t","Home"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport ItemList from './ItemList';\nimport InsertForm from './InsertForm';\nimport NewList from './NewList';\nimport { BrowserRouter as Router, Switch, Route, NavLink, Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Error404View from './Error404View';\nimport EditList from './EditList';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar';\n// import Form from 'react-bootstrap/Form';\nimport { NavbarBrand } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import Login from \"./components/login.js\";\nimport SignupForm from \"./components/signUp.js\";\nimport ValidatedLoginForm from \"./components/validatedLoginForm.js\";\n\n\nconst API_URL = \"/inventarium/lists\";\nconst API_URL2 = \"/inventarium/lists/items\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        lists: [],\n        newList: \"\",\n        editedListId: null,\n        list: null\n      };\n    }\n\n  componentDidMount() {\n    fetch(API_URL)\n      .then(res => res.json())\n      .then(json => {\n        // Upon success, update lists\n        this.setState({ lists: json });\n      })\n      .catch(error => {\n        // upon failure, show error message\n        console.log(\"Error\")\n      });\n  }\n\n  async addNewItem(newItem, list_id) {\n    let item = { text: newItem, list_id: list_id};\n    // POST\n    let options = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(item)\n    };\n\n  try {\n    let response = await fetch(API_URL2, options);\n    if (response.ok) {\n    let newLists = await response.json();\n    this.setState({ lists: newLists });\n    } else {\n      console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      console.log(\"EXCEPTION:\", err.message);\n  }\n}\n\n  async addNewList(newTitle) {\n\n    let newList = { title: newTitle };\n\n    let options = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newList)\n    };\n\n    try {\n      let response = await fetch(API_URL, options);\n      if (response.ok) {\n        let newLists = await response.json();\n        this.setState({ lists: newLists });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  setEditedListId(editedListId) {\n    this.setState({ editedListId: editedListId });\n  }\n\n  async deleteItem(list_id, item_id) {\n    // DELETE item from database\n    let options = {\n      method: \"DELETE\"\n    };\n    try {\n      let response = await fetch(`${API_URL2}/${item_id}`, options);\n      if (response.ok) {\n        let newLists = await response.json();\n        // let newList = newLists.find((l) => l.id === list_id);\n        // newList.item = newList.item.filter((i) => i !== item_id);\n        // upon success, update the list of items\n        this.setState({ lists: newLists });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  async deleteList(list_id) {\n    // DELETE list from database\n    let options = {\n      method: \"DELETE\"\n    };\n    \n    try {\n      let response = await fetch(`${API_URL}/${list_id}`, options);\n      if (response.ok) {\n        let newLists = await response.json();\n        this.setState({ lists: newLists });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  async handleEditList(list_id) {\n    let list = this.state.lists.find(l => l.id === list_id);\n    // PUT\n    let options = {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(list)\n    };\n\n    try {\n      let response = await fetch(`${API_URL}/${list_id}`, options);\n      if (response.ok) {\n        let newList = await response.json();\n        // upon success, update tasks\n        this.setState({ list: newList });\n      } else {\n        console.log(\"ERROR:\", response.status, response.statusText);\n      }\n    } catch (err) {\n      // upon failure, show error message\n      console.log(\"EXCEPTION:\", err.message);\n    }\n  }\n\n  saveList(list_id, newTitle, newItems) {\n    let newLists = [...this.state.lists];\n    let newList = newLists.find((l) => l.id === list_id);\n    newList.title = newTitle;\n    newList.item = newItems;\n    this.setState({lists: newLists})\n    this.props.history.push('/mylists');\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"container\">\n          <div>\n            <Navbar bg='info' expand=\"lg\">\n              <Button variant=\"info\"><NavLink to='/' exact><NavbarBrand>INVENTARIUM</NavbarBrand></NavLink></Button>\n              <Button variant=\"info\"><NavLink to='/mylists' exact activeClassName='selected'>My Lists</NavLink></Button>\n              <Button variant=\"info\"><NavLink to='/addlist' activeClassName='selected'>Create New List</NavLink></Button>\n            </Navbar>\n          </div>\n              \n            <Switch> \n              <Route path='/' exact>\n                <Home />\n              </Route>\n\n              <Route path='/mylists'>\n                <ItemList\n                setEditedListId={(editedListId) => this.setEditedListId(editedListId)}\n                lists={this.state.lists}\n                deleteItem={(list_id, item_id) => this.deleteItem(list_id, item_id)}\n                deleteList={(list_id) => this.deleteList(list_id)}\n                handleEditList={(list_id) => this.handleEditList(list_id)} />\n              </Route>\n\n              <Route path='/additem'> \n                <InsertForm editedListId={this.state.editedListId}\n                newItem={this.state.newItem}\n                addNewItem={(newItem, list_id) => this.addNewItem(newItem, list_id)}\n                id={this.state.lists.id}/>\n              </Route>\n\n              <Route path='/addlist'>\n                <NewList addNewList={(newTitle) => this.addNewList(newTitle)} />\n              </Route>\n\n              <Route path='/editlist/:id' render={\n                (routeProps) => {\n                  let list = this.state.lists.find((l) => l.id === routeProps.match.params.id);\n                  return <EditList list={list}\n                  saveList={(id, t, item) => this.saveList(id, t, item)}\n                  />\n                }\n              } />\n              \n              <div>\n                <div>\n                  <Route path='/login' component={ValidatedLoginForm} />\n\n                  <Route path='/sign-up'component={SignupForm} />\n                </div>\n              </div>\n\n              <Error404View />\n\n            </Switch>\n      </div>\n      </Router>\n    );\n  }\n}\n\nclass Home extends React.Component {\n  render() {\n    return(\n      <div className=\"text-center\">\n        <h1>Welcome</h1>\n        <div>\n              <Button variant=\"info\"><Link to=\"/login\">SIGN IN</Link></Button>\n              <br/>\n              <br/>\n              <Button variant=\"info\"><Link to=\"/sign-up\">SIGN UP</Link></Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);"]},"metadata":{},"sourceType":"module"}